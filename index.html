<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.clouds.min.js"></script>
</head>
<body class="h-screen w-screen flex justify-center items-center relative overflow-hidden">

    <!-- Animated Background -->
    <div id="background" class="absolute top-0 left-0 w-full h-full -z-10"></div>

    <!-- Weather App Container -->
    <div class="bg-white bg-opacity-90 p-8 rounded-lg shadow-xl text-center w-96 transition-transform transform hover:scale-105">
        <h1 class="text-3xl font-bold text-gray-800">ğŸŒ¦ï¸ Weather App</h1>
        <p class="text-sm text-gray-500">Get real-time weather updates</p>
        
        <!-- Input Field -->
        <div class="mt-4 flex items-center space-x-2">
            <input id="cityInput" type="text" placeholder="Enter city..." 
                class="flex-1 px-4 py-2 border rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400">
            <button id="searchBtn" 
                class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all">
                ğŸ”
            </button>
        </div>

        <!-- Weather Info -->
        <div id="weatherResult" class="hidden mt-6 animate-fade-in">
            <h2 id="cityName" class="text-2xl font-semibold text-gray-900"></h2>
            <img id="weatherIcon" class="mx-auto my-2 w-16">
            <p id="temperature" class="text-2xl font-bold text-gray-800"></p>
            <p id="condition" class="text-gray-700"></p>
            <div class="mt-3 grid grid-cols-2 gap-4">
                <div class="p-2 bg-gray-200 rounded-lg">
                    <p class="text-gray-600">ğŸ’§ Humidity</p>
                    <p id="humidity" class="font-bold text-gray-900"></p>
                </div>
                <div class="p-2 bg-gray-200 rounded-lg">
                    <p class="text-gray-600">ğŸ’¨ Wind Speed</p>
                    <p id="wind" class="font-bold text-gray-900"></p>
                </div>
            </div>
        </div>

        <!-- Error Message -->
        <p id="errorMessage" class="text-red-500 mt-4 hidden"></p>
    </div>

    <script>
        // Animated Background
        VANTA.CLOUDS({
            el: "#background",
            mouseControls: true,
            touchControls: true,
            minHeight: 500.00,
            minWidth: 500.00,
            speed: 0.8,
            skyColor: 0x87CEFA,
            cloudColor: 0xffffff,
            sunColor: 0xffdd57,
        });

        const apiKey = "11001d06faeb403a8ea145113252102"; // Replace with your WeatherAPI.com API key
        const searchBtn = document.getElementById("searchBtn");
        const cityInput = document.getElementById("cityInput");
        const weatherResult = document.getElementById("weatherResult");
        const errorMessage = document.getElementById("errorMessage");

        searchBtn.addEventListener("click", async () => {
            const city = cityInput.value.trim();
            if (city === "") {
                errorMessage.innerText = "Please enter a city name!";
                errorMessage.classList.remove("hidden");
                return;
            }

            errorMessage.classList.add("hidden");

            try {
                const response = await fetch(`https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${city}`);
                const data = await response.json();

                if (data.error) {
                    errorMessage.innerText = "City not found!";
                    errorMessage.classList.remove("hidden");
                    weatherResult.classList.add("hidden");
                    return;
                }

                // Update Weather Info
                document.getElementById("cityName").innerText = `${data.location.name}, ${data.location.country}`;
                document.getElementById("weatherIcon").src = data.current.condition.icon;
                document.getElementById("temperature").innerText = `ğŸŒ¡ï¸ ${data.current.temp_c}Â°C`;
                document.getElementById("condition").innerText = `ğŸŒ¥ï¸ ${data.current.condition.text}`;
                document.getElementById("humidity").innerText = `${data.current.humidity}%`;
                document.getElementById("wind").innerText = `${data.current.wind_kph} km/h`;

                weatherResult.classList.remove("hidden");
            } catch (error) {
                errorMessage.innerText = "Error fetching weather data!";
                errorMessage.classList.remove("hidden");
            }
        });
    </script>

</body>
</html>
